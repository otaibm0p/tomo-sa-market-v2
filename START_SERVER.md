# ๐ ุชุดุบูู ุงูุฎุงุฏู ุนูู ุงูุณูุฑูุฑ - TOMO Market

## ๐ ุงููุชุทูุจุงุช
- ุงุชุตุงู SSH ุจุงูุณูุฑูุฑ
- ูุนุฑูุฉ IP ุงูุณูุฑูุฑ ุฃู ุงุณู ุงูุฏูููู

---

## ๐ง ุงูุฎุทูุงุช ุงูุณุฑูุนุฉ

### 1๏ธโฃ ุงูุงุชุตุงู ุจุงูุณูุฑูุฑ

```bash
# ุฅุฐุง ูุงู IP: 138.68.245.29
ssh root@138.68.245.29

# ุฃู ุฅุฐุง ูุงู ุงูุฏูููู: tomo-sa.com
ssh root@tomo-sa.com
```

### 2๏ธโฃ ุงูุงูุชูุงู ุฅูู ูุฌูุฏ ุงููุดุฑูุน

```bash
cd /var/www/tomo-market
```

### 3๏ธโฃ ุงูุชุญูู ูู ุงููููุงุช

```bash
# ุชุญูู ูู ูุฌูุฏ ุงููููุงุช
ls -la
ls -la backend/
ls -la frontend/
```

### 4๏ธโฃ ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
# ุงูุชุญูู ูู ุญุงูุฉ PostgreSQL
systemctl status postgresql

# ุฅุฐุง ูุงู ูุชูููุงูุ ุฃุนุฏ ุชุดุบููู
sudo systemctl start postgresql
sudo systemctl enable postgresql
```

### 5๏ธโฃ ุงูุชุญูู ูู ููู .env

```bash
# ุงูุชุญูู ูู ูุฌูุฏ ููู .env
cat backend/.env

# ุฅุฐุง ูู ููู ููุฌูุฏุงูุ ุฃูุดุฆู
cd backend
cp env.template .env
nano .env
```

**ููุงุญุธุฉ:** ุชุฃูุฏ ูู ุชุนุจุฆุฉ ูุฐู ุงูููู:
```env
NODE_ENV=production
PORT=3000
JWT_SECRET=your-secret-key-here
DATABASE_URL=postgresql://tomo_admin:StrongPass123@localhost:5432/tomo_db
```

### 6๏ธโฃ ุชุซุจูุช ุงูููุชุจุงุช (ุฅุฐุง ูุฒู ุงูุฃูุฑ)

```bash
# Backend
cd /var/www/tomo-market/backend
npm install

# Frontend (ุฅุฐุง ููุช ุจุญุงุฌุฉ ูุฅุนุงุฏุฉ ุงูุจูุงุก)
cd /var/www/tomo-market/frontend
npm install
npm run build
```

### 7๏ธโฃ ุชุดุบูู ุงูุฎุงุฏู ุจุงุณุชุฎุฏุงู PM2

```bash
# ุงูุงูุชูุงู ุฅูู ุงููุฌูุฏ ุงูุฑุฆูุณู
cd /var/www/tomo-market

# ุงูุชุญูู ูู PM2
pm2 status

# ุฅุฐุง ูุงู ุงูุชุทุจูู ูุนููุ ุฃุนุฏ ุชุดุบููู
pm2 restart tomo-market-backend

# ุฅุฐุง ูู ููู ูุนููุ ุงุจุฏุฃู
pm2 start ecosystem.config.js

# ุฃู ุจุฏูู ููู ecosystem
pm2 start backend/server.js --name tomo-market-backend --env production

# ุญูุธ ุงูุฅุนุฏุงุฏุงุช
pm2 save

# ุฅุนุฏุงุฏ ุงูุชุดุบูู ุงูุชููุงุฆู ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ
pm2 startup
```

### 8๏ธโฃ ุงูุชุญูู ูู ุญุงูุฉ ุงูุฎุงุฏู

```bash
# ุญุงูุฉ PM2
pm2 status

# ุณุฌูุงุช ุงูุชุทุจูู (logs)
pm2 logs tomo-market-backend --lines 50

# ูุฑุงูุจุฉ ูู ุงูููุช ุงููุนูู
pm2 monit
```

### 9๏ธโฃ ุงูุชุญูู ูู Nginx

```bash
# ุญุงูุฉ Nginx
systemctl status nginx

# ุงุฎุชุจุงุฑ ุฅุนุฏุงุฏุงุช Nginx
nginx -t

# ุฅุนุงุฏุฉ ุชุญููู Nginx
systemctl reload nginx
```

---

## โ ุงูุชุญูู ูู ูุฌุงุญ ุงูุชุดุบูู

### 1. ุชุญูู ูู PM2

```bash
pm2 status
```

**ูุฌุจ ุฃู ุชุฑู:**
```
โโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโฌโโโโโโโโโโฌโโโโโโโโโโโ
โ id  โ name                   โ status  โ cpu     โ memory   โ
โโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโผโโโโโโโโโโผโโโโโโโโโโโค
โ 0   โ tomo-market-backend    โ online  โ 0%      โ 50MB     โ
โโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโดโโโโโโโโโโดโโโโโโโโโโโ
```

### 2. ุชุญูู ูู ุงููููุฐ

```bash
netstat -tulpn | grep :3000
```

**ูุฌุจ ุฃู ุชุฑู:**
```
tcp  0  0  0.0.0.0:3000  0.0.0.0:*  LISTEN  12345/node
```

### 3. ุงุฎุชุจุงุฑ API ูุญููุงู

```bash
curl http://localhost:3000/api/products
```

**ูุฌุจ ุฃู ุชุฑู:** ุงุณุชุฌุงุจุฉ JSON ุจุงูููุชุฌุงุช

### 4. ุงุฎุชุจุงุฑ ุงููููุน

ุงูุชุญ ุงููุชุตูุญ:
- `https://tomo-sa.com` 
- ุฃู `http://138.68.245.29`

---

## ๐ ุญู ุงููุดุงูู

### ุงููุดููุฉ: PM2 ูุง ูุนูู

```bash
# ุฅุนุงุฏุฉ ุชุซุจูุช PM2
npm install -g pm2

# ูุณุญ ุงูุฐุงูุฑุฉ
pm2 kill
pm2 start ecosystem.config.js
```

### ุงููุดููุฉ: ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุง ุชุชุตู

```bash
# ุฅุนุงุฏุฉ ุชุดุบูู PostgreSQL
sudo systemctl restart postgresql

# ุงูุชุญูู ูู ุงูุงุชุตุงู
psql -U tomo_admin -d tomo_db -h localhost
```

### ุงููุดููุฉ: ุงููููุฐ ูุณุชุฎุฏู

```bash
# ุฅูุฌุงุฏ ุงูุนูููุฉ ุงูุชู ุชุณุชุฎุฏู ุงููููุฐ
lsof -i :3000

# ุฅููุงู ุงูุนูููุฉ
kill -9 PID
```

### ุงููุดููุฉ: ุงูุฃุฎุทุงุก ูู ุงูุณุฌูุงุช

```bash
# ุนุฑุถ ุงูุฃุฎุทุงุก
pm2 logs tomo-market-backend --err --lines 100

# ุฃู
tail -f /var/log/pm2/tomo-backend-error.log
```

---

## ๐ ุฃูุงูุฑ ูููุฏุฉ

```bash
# ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู
pm2 restart tomo-market-backend

# ุฅููุงู ุงูุชุทุจูู
pm2 stop tomo-market-backend

# ุจุฏุก ุงูุชุทุจูู
pm2 start tomo-market-backend

# ุญุฐู ุงูุชุทุจูู ูู PM2
pm2 delete tomo-market-backend

# ุนุฑุถ ุงูุณุฌูุงุช
pm2 logs

# ูุฑุงูุจุฉ ุงูููุงุฑุฏ
pm2 monit

# ุญูุธ ุงูุฅุนุฏุงุฏุงุช
pm2 save

# ูุณุญ ูู ุดูุก ูุฅุนุงุฏุฉ ุงูุจุฏุก
pm2 kill
pm2 start ecosystem.config.js
pm2 save
```

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุณุฑูุนุฉ (ูุณุฎุฉ ูุฎุชุตุฑุฉ)

```bash
# 1. ุงูุงุชุตุงู
ssh root@tomo-sa.com

# 2. ุงูุงูุชูุงู
cd /var/www/tomo-market

# 3. ุฅุนุงุฏุฉ ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
sudo systemctl restart postgresql

# 4. ุชุดุบูู/ุฅุนุงุฏุฉ ุชุดุบูู PM2
pm2 restart tomo-market-backend || pm2 start ecosystem.config.js

# 5. ุงูุชุญูู
pm2 status
pm2 logs --lines 20
```

---

**โ ุฅุฐุง ุงุชุจุนุช ูุฐู ุงูุฎุทูุงุชุ ูุฌุจ ุฃู ูุนูู ุงูุฎุงุฏู ุงูุขู!**

